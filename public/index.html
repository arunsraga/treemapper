<!DOCTYPE html>
<html>
<head>
	<title>Treemapper.in</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="IE=Edge">
	<link rel="stylesheet" href="css/bootstrap.min.css" />
	<link rel="stylesheet" href="css/font-awesome.min.css" />
	<link rel="stylesheet" href="css/nprogress.css" />
	<link rel="stylesheet" href="css/treemapper.css" />
</head>
<body>
	<div class="navbar navbar-fixed-top navbar-inverse">
	<div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="index.html">Treemapper</a>
		</div>
		<div class="collapse navbar-collapse">
			<ul class="nav navbar-nav">
				<li><a href="tree-guide.html">Tree Guide</a></li>
				<li><a href="#contact">About</a></li>
			</ul>
		</div><!--/.nav-collapse -->
	</div>
</div>
	<div class="message-overlay">
		<div class="content">
			<i class="icon-refresh icon-spin icon-lg text-muted"></i><br>
			Starting Treemapper...
		</div>
	</div>
	<div class="container">
		
		<div class="splash row" style="display: none">
			<div style="height: 400px; background: url(img/sander-zelhem-green-passage.jpg) center; 
				color: white; margin-top: -40px; width: 100%;">
				<h1 style="color: white; padding: 30px;">Map Trees in your Neighbourhood</h1>
				<button class="btn btn-default btn-lg btn-login" 
					style="margin: 30px; margin-top: 0px;">Get Started Now</button>
			</div>
		</div>
		<div class="add-tree" style="display: none;">
			<h2>Add A Tree</h2>
			<hr>
			<!-- step 1 -->
			<div class="step-1">
				<h3>1 of 5: Select Type</h3>
				<br>
				<div class="row">
					<div class="col-xs-12">
						<select class="form-control tree-type-select">
							<option value="select">Select Tree Type...</option>
							<option value="African Mangosteine">African Mangosteine</option><option value="Agnimanth">Agnimanth</option><option value="Agra Suru">Agra Suru</option><option value="Ajaan">Ajaan</option><option value="Allspice">Allspice</option><option value="Alu">Alu</option><option value="Amaltas">Amaltas</option><option value="Amba">Amba</option><option value="Ambada">Ambada</option><option value="American Oil Palm">American Oil Palm</option><option value="Andaman Cycas">Andaman Cycas</option><option value="Anjan">Anjan</option><option value="Anjani">Anjani</option><option value="Anjeer">Anjeer</option><option value="Ankol">Ankol</option><option value="Apple">Apple</option><option value="Apta">Apta</option><option value="Arara Nut">Arara Nut</option><option value="Areca Palm">Areca Palm</option><option value="Arjun">Arjun</option><option value="Asana">Asana</option><option value="Ashok">Ashok</option><option value="Austalian Babhul">Austalian Babhul</option><option value="Australian Chestnut">Australian Chestnut</option><option value="Avacado">Avacado</option><option value="Awala">Awala</option><option value="Babhul">Babhul</option><option value="Badam">Badam</option><option value="Bakan Neem">Bakan Neem</option><option value="Bakul">Bakul</option><option value="Balage">Balage</option><option value="Bald Cypress">Bald Cypress</option><option value="Ballon Tree">Ballon Tree</option><option value="Bamboo Palm">Bamboo Palm</option><option value="Barbados Cherry">Barbados Cherry</option><option value="Bartondi">Bartondi</option><option value="Bay Palmetto">Bay Palmetto</option><option value="Bayi">Bayi</option><option value="Beeja">Beeja</option><option value="Beheda">Beheda</option><option value="Behru">Behru</option><option value="Bel">Bel</option><option value="Benjamina">Benjamina</option><option value="Bhendi Gulab">Bhendi Gulab</option><option value="Bherli Mad">Bherli Mad</option><option value="Bhokar">Bhokar</option><option value="Bhoma">Bhoma</option><option value="Bhutan Cypress">Bhutan Cypress</option><option value="Bhutiya">Bhutiya</option><option value="Bibba">Bibba</option><option value="Bimbal">Bimbal</option><option value="Bitten Palm">Bitten Palm</option><option value="Bitti">Bitti</option><option value="Black Pearl">Black Pearl</option><option value="Black Wood">Black Wood</option><option value="Blue Latan Palm">Blue Latan Palm</option><option value="Bor">Bor</option><option value="Bottle Brush">Bottle Brush</option><option value="Bottle Palm">Bottle Palm</option><option value="Brahmadand">Brahmadand</option><option value="Brazillian Ironwood">Brazillian Ironwood</option><option value="Brazillian Pepper">Brazillian Pepper</option><option value="Bread-fruit Tree">Bread-fruit Tree</option><option value="Buch">Buch</option><option value="Buch Panagara">Buch Panagara</option><option value="Buddha Coconut">Buddha Coconut</option><option value="Buddha's Belly Bamboo">Buddha's Belly Bamboo</option><option value="Bunya Pine">Bunya Pine</option><option value="Burali Wad">Burali Wad</option><option value="Cabage Palm">Cabage Palm</option><option value="California Fan Palm">California Fan Palm</option><option value="Canary Island Date Palm">Canary Island Date Palm</option><option value="Candelabra Plant">Candelabra Plant</option><option value="Candle Tree">Candle Tree</option><option value="Cape Wattle">Cape Wattle</option><option value="Carnauba Wax Palm">Carnauba Wax Palm</option><option value="Carpentaria Palm">Carpentaria Palm</option><option value="Champagne Palm">Champagne Palm</option><option value="Chandan">Chandan</option><option value="Charoli">Charoli</option><option value="Chenduphali">Chenduphali</option><option value="Cherry Blossom">Cherry Blossom</option><option value="Chhatri Babhul">Chhatri Babhul</option><option value="Chikkoo">Chikkoo</option><option value="Chinar">Chinar</option><option value="Chinch">Chinch</option><option value="Chinchva">Chinchva</option><option value="Chinese Fam Palm">Chinese Fam Palm</option><option value="Chinese Juniper">Chinese Juniper</option><option value="Christmas Tree">Christmas Tree</option><option value="Cliff Date Palm">Cliff Date Palm</option><option value="Cockspur Coral Tree">Cockspur Coral Tree</option><option value="Cocoa">Cocoa</option><option value="Coffee">Coffee</option><option value="Copper Plant">Copper Plant</option><option value="Dalchini">Dalchini</option><option value="Dalimb">Dalimb</option><option value="Dalmara">Dalmara</option><option value="Dandus">Dandus</option><option value="Delhi Sawar">Delhi Sawar</option><option value="Dev Babhul">Dev Babhul</option><option value="Dhawda">Dhawda</option><option value="Dikemali">Dikemali</option><option value="Dividivi">Dividivi</option><option value="Dombeya">Dombeya</option><option value="Dracaena">Dracaena</option><option value="Duranta">Duranta</option><option value="Dwarf Date Palm">Dwarf Date Palm</option><option value="Dwarf Tecoma">Dwarf Tecoma</option><option value="Elephant's foot palm">Elephant's foot palm</option><option value="Erand">Erand</option><option value="European Fan Palm">European Fan Palm</option><option value="Everglades Palm">Everglades Palm</option><option value="False Lime">False Lime</option><option value="Fern Pine">Fern Pine</option><option value="Fern Tree">Fern Tree</option><option value="Fiddle Head Jatropha">Fiddle Head Jatropha</option><option value="Fiddleleaf Fig">Fiddleleaf Fig</option><option value="Fiji Fan Palm">Fiji Fan Palm</option><option value="Fire Bush">Fire Bush</option><option value="Flame Bean">Flame Bean</option><option value="Foot Stool Palm">Foot Stool Palm</option><option value="Formosa Palm">Formosa Palm</option><option value="Foxtail Palm">Foxtail Palm</option><option value="Fried Egg Plant">Fried Egg Plant</option><option value="Ganer">Ganer</option><option value="Garari">Garari</option><option value="Gela">Gela</option><option value="Ghatbor">Ghatbor</option><option value="Giant Bamboo">Giant Bamboo</option><option value="Giripushpa">Giripushpa</option><option value="Gol">Gol</option><option value="Golden Bamboo">Golden Bamboo</option><option value="Golden Bottel Brush">Golden Bottel Brush</option><option value="Golden Rain Tree">Golden Rain Tree</option><option value="Golden Trumpet">Golden Trumpet</option><option value="Gondan">Gondan</option><option value="Gorakh Chinch">Gorakh Chinch</option><option value="Gulabi Bahawa">Gulabi Bahawa</option><option value="Gulabi Kanchan">Gulabi Kanchan</option><option value="Gulmendi">Gulmendi</option><option value="Gulmohor">Gulmohor</option><option value="Gum Guaiacum">Gum Guaiacum</option><option value="Hadga">Hadga</option><option value="Hanuman Phal">Hanuman Phal</option><option value="Hedu">Hedu</option><option value="Henkal">Henkal</option><option value="Hinganbet">Hinganbet</option><option value="Hispaniolan Silver Thatch">Hispaniolan Silver Thatch</option><option value="Hivar">Hivar</option><option value="Hoop Pine">Hoop Pine</option><option value="Horse Cassia">Horse Cassia</option><option value="Humb">Humb</option><option value="Hurricane Palm">Hurricane Palm</option><option value="Idlimbu">Idlimbu</option><option value="Indonesian Cycas">Indonesian Cycas</option><option value="Iran">Iran</option><option value="Italian Cypress">Italian Cypress</option><option value="Jacquinia">Jacquinia</option><option value="Jamb">Jamb</option><option value="Jambhul">Jambhul</option><option value="Jawa Cassia">Jawa Cassia</option><option value="Jayphal">Jayphal</option><option value="Jelly Palm">Jelly Palm</option><option value="Jungli Badam">Jungli Badam</option><option value="Kadamb">Kadamb</option><option value="Kadhilimb">Kadhilimb</option><option value="Kadukawath">Kadukawath</option><option value="Kadulimb">Kadulimb</option><option value="Kailaspati">Kailaspati</option><option value="Kajra">Kajra</option><option value="Kaju">Kaju</option><option value="Kakad">Kakad</option><option value="Kala Kuda">Kala Kuda</option><option value="Kala Palas">Kala Palas</option><option value="Kala Shirish">Kala Shirish</option><option value="Kala Umber">Kala Umber</option><option value="Kalabash">Kalabash</option><option value="Kalam">Kalam</option><option value="Kallu Goli">Kallu Goli</option><option value="Kamrak">Kamrak</option><option value="Kanak Champa">Kanak Champa</option><option value="Kanchan">Kanchan</option><option value="Kanchan Raj">Kanchan Raj</option><option value="Kandol">Kandol</option><option value="Kanher">Kanher</option><option value="Kapila">Kapila</option><option value="Karanj">Karanj</option><option value="Karnikar">Karnikar</option><option value="Katsagon">Katsagon</option><option value="Kauri Pine">Kauri Pine</option><option value="Kaushi">Kaushi</option><option value="Kavath">Kavath</option><option value="Kavthi Chafa">Kavthi Chafa</option><option value="Kentia Palm">Kentia Palm</option><option value="Kevada">Kevada</option><option value="Khadshingi">Khadshingi</option><option value="Khair">Khair</option><option value="Kharwat">Kharwat</option><option value="Khatkhati">Khatkhati</option><option value="Khaya">Khaya</option><option value="Khirni">Khirni</option><option value="Kinhai">Kinhai</option><option value="Klinki Pine">Klinki Pine</option><option value="Kokam">Kokam</option><option value="Kuda">Kuda</option><option value="Kumbha">Kumbha</option><option value="Kunti">Kunti</option><option value="Kusumb">Kusumb</option><option value="Kutri">Kutri</option><option value="Lal Chapha">Lal Chapha</option><option value="Lal Karanj">Lal Karanj</option><option value="Large-leaved Khaya">Large-leaved Khaya</option><option value="Laxmi Taru">Laxmi Taru</option><option value="Licuri Palm">Licuri Palm</option><option value="Lipstick Palm">Lipstick Palm</option><option value="Litchi">Litchi</option><option value="Loquat">Loquat</option><option value="Mac Arthur Palm">Mac Arthur Palm</option><option value="Madagascar Almond">Madagascar Almond</option><option value="Madagascar Palm">Madagascar Palm</option><option value="Magnolia">Magnolia</option><option value="Maha Dhawda">Maha Dhawda</option><option value="Maharukh">Maharukh</option><option value="Mahogany">Mahogany</option><option value="Majesty Palm">Majesty Palm</option><option value="Mandarin Orange">Mandarin Orange</option><option value="Manila Palm">Manila Palm</option><option value="Manimohor">Manimohor</option><option value="Markhamia">Markhamia</option><option value="Medhshingi">Medhshingi</option><option value="Mendi">Mendi</option><option value="Mexican Blue Palm">Mexican Blue Palm</option><option value="Mogli Erand">Mogli Erand</option><option value="Moha">Moha</option><option value="Moi">Moi</option><option value="Mokha">Mokha</option><option value="Montgomery Palm">Montgomery Palm</option><option value="Morpankhi">Morpankhi</option><option value="Motha Karmal">Motha Karmal</option><option value="Motha Satween">Motha Satween</option><option value="Motha Tarwad">Motha Tarwad</option><option value="Mountain Ebony">Mountain Ebony</option><option value="Muchkunda">Muchkunda</option><option value="Mussaenda">Mussaenda</option><option value="Nagchapha">Nagchapha</option><option value="Nana">Nana</option><option value="Nandruk">Nandruk</option><option value="Naral">Naral</option><option value="Neelmohor">Neelmohor</option><option value="Neer Phanas">Neer Phanas</option><option value="New Caledonian Pine">New Caledonian Pine</option><option value="Newar">Newar</option><option value="Nilgiri">Nilgiri</option><option value="Nopal Cactus">Nopal Cactus</option><option value="Nuda">Nuda</option><option value="Oil Palm">Oil Palm</option><option value="Olive Tree">Olive Tree</option><option value="Orchid Tree">Orchid Tree</option><option value="Pachunda">Pachunda</option><option value="Padal">Padal</option><option value="Padauk">Padauk</option><option value="Palas">Palas</option><option value="Pandhara">Pandhara</option><option value="Pandhra Chapha">Pandhra Chapha</option><option value="Pandhra Khair">Pandhra Khair</option><option value="Pandhri Sawar">Pandhri Sawar</option><option value="Pangara">Pangara</option><option value="Panki">Panki</option><option value="Papayi">Papayi</option><option value="Paper Mulberry">Paper Mulberry</option><option value="Papnas">Papnas</option><option value="Par Jambhul">Par Jambhul</option><option value="Paras Bhendi">Paras Bhendi</option><option value="Parijatak">Parijatak</option><option value="Payar">Payar</option><option value="Pendro">Pendro</option><option value="Peru">Peru</option><option value="Petari">Petari</option><option value="Petrea">Petrea</option><option value="Phalsa">Phalsa</option><option value="Phanas">Phanas</option><option value="Phanshi">Phanshi</option><option value="Phetra">Phetra</option><option value="Philippines Bamboo">Philippines Bamboo</option><option value="Phudgus">Phudgus</option><option value="Pichkari">Pichkari</option><option value="Pilinut">Pilinut</option><option value="Pimpal">Pimpal</option><option value="Pine">Pine</option><option value="Pink Trumpet">Pink Trumpet</option><option value="Pipri">Pipri</option><option value="Pitch Apple">Pitch Apple</option><option value="Pivla Kanchan">Pivla Kanchan</option><option value="Poplar">Poplar</option><option value="Potato Tree">Potato Tree</option><option value="Potka Shirish">Potka Shirish</option><option value="Powder Puff">Powder Puff</option><option value="Purple Trumpet">Purple Trumpet</option><option value="Putranjiva">Putranjiva</option><option value="Queen Palm">Queen Palm</option><option value="Queen Sago">Queen Sago</option><option value="Rain Tree">Rain Tree</option><option value="Raktachandan">Raktachandan</option><option value="Raktarohida">Raktarohida</option><option value="Ramphal">Ramphal</option><option value="Ran Kadhilimb">Ran Kadhilimb</option><option value="Ratangunj">Ratangunj</option><option value="Ravan Tad">Ravan Tad</option><option value="Ray Awala">Ray Awala</option><option value="Raykuda">Raykuda</option><option value="Red Cassia">Red Cassia</option><option value="Red Latan Palm">Red Latan Palm</option><option value="Red Leaf Palm">Red Leaf Palm</option><option value="Red Neck Palm">Red Neck Palm</option><option value="Ritha">Ritha</option><option value="Roxburgh's Bauhinia">Roxburgh's Bauhinia</option><option value="Rubber Tree">Rubber Tree</option><option value="Rudraksha">Rudraksha</option><option value="Rudrakshi">Rudrakshi</option><option value="Sag">Sag</option><option value="Sago Palm">Sago Palm</option><option value="Salai">Salai</option><option value="Samble">Samble</option><option value="Sambucus">Sambucus</option><option value="Samudraphal">Samudraphal</option><option value="Sandbox Tree">Sandbox Tree</option><option value="Satween">Satween</option><option value="Sawar">Sawar</option><option value="Scarlet Cordia">Scarlet Cordia</option><option value="Sea-Grape Tree">Sea-Grape Tree</option><option value="Seeta Ashok">Seeta Ashok</option><option value="Seetaranjan">Seetaranjan</option><option value="Shami">Shami</option><option value="Shankasur">Shankasur</option><option value="Shaving Brush">Shaving Brush</option><option value="Shedri">Shedri</option><option value="Shelu">Shelu</option><option value="Sher">Sher</option><option value="Shewga">Shewga</option><option value="Shindi">Shindi</option><option value="Shirish">Shirish</option><option value="Shisam">Shisam</option><option value="Shisav">Shisav</option><option value="Shiwan">Shiwan</option><option value="Sigamkathi">Sigamkathi</option><option value="Silver Oak">Silver Oak</option><option value="Silver Palm">Silver Palm</option><option value="Singapore Cherry">Singapore Cherry</option><option value="Sitaphal">Sitaphal</option><option value="Snow Bush">Snow Bush</option><option value="Sonchafa">Sonchafa</option><option value="Spectacular Cassia">Spectacular Cassia</option><option value="Star Apple">Star Apple</option><option value="Striped Ebony">Striped Ebony</option><option value="Subabhul">Subabhul</option><option value="Sukanu">Sukanu</option><option value="Supari">Supari</option><option value="Surangi">Surangi</option><option value="Suru">Suru</option><option value="Tad">Tad</option><option value="Tagar">Tagar</option><option value="Taheboo Tree">Taheboo Tree</option><option value="Talipot">Talipot</option><option value="Tambada Kuda">Tambada Kuda</option><option value="Tambadsheng">Tambadsheng</option><option value="Tambat">Tambat</option><option value="Tamhan">Tamhan</option><option value="Tapioca">Tapioca</option><option value="Tarsi">Tarsi</option><option value="Tea Olive">Tea Olive</option><option value="Tecoma">Tecoma</option><option value="Temburni">Temburni</option><option value="Temru">Temru</option><option value="Tetu">Tetu</option><option value="Thakal">Thakal</option><option value="Thatch Palm">Thatch Palm</option><option value="Thief Palm">Thief Palm</option><option value="Thorny Bamboo">Thorny Bamboo</option><option value="Tokphal">Tokphal</option><option value="Toon">Toon</option><option value="Traveler's Palm">Traveler's Palm</option><option value="Tree Antigonon">Tree Antigonon</option><option value="Tree of Fragrance">Tree of Fragrance</option><option value="Triangle Leaf Tree">Triangle Leaf Tree</option><option value="Triangle Palm">Triangle Palm</option><option value="Trumpet Tree">Trumpet Tree</option><option value="Tuti">Tuti</option><option value="Umbar">Umbar</option><option value="Umbrella Tree">Umbrella Tree</option><option value="Undi">Undi</option><option value="Urvashi">Urvashi</option><option value="Vanautu Fan Palm">Vanautu Fan Palm</option><option value="Vaywaran">Vaywaran</option><option value="Vedi Babhul">Vedi Babhul</option><option value="Velu">Velu</option><option value="Vilayati Chinch">Vilayati Chinch</option><option value="Wad">Wad</option><option value="Wallich's Palm">Wallich's Palm</option><option value="Walunj">Walunj</option><option value="Warang">Warang</option><option value="Waras">Waras</option><option value="Wawal">Wawal</option><option value="White Cypress">White Cypress</option><option value="Yellow Latan Palm">Yellow Latan Palm</option><option value="Yellow Trumpet Tree">Yellow Trumpet Tree</option><option value="Yellow Wood">Yellow Wood</option><option value="Ylang-Ylang">Ylang-Ylang</option><option value="Yucca">Yucca</option><option value="Zapota">Zapota</option><option value="mandar">mandar</option>
						</select>
						<br>
					</div>
				</div>
				<div class="alert alert-warning type-not-selected">Select a tree type first.</div>
				<div class="alert alert-info tree-details" style="display: none;">
					<a href="#" target="_blank">View this tree on Tree Guide</a>
				</div>
				<button class="btn btn-primary btn-lg pull-right 
					btn-step-1" disabled="disabled" data-next="2">Next: Add Pictures</button>
			</div>
			<!-- step 2 -->
			<div class="step-2" style="display: none;">
				<h3>2 of 5: Add Tree Picture</h3>
				<br>
				<div class="alert alert-warning">1. Stand a few feet away from the tree 
					and take an image covering as much of the tree as you can and as little 
					of anything else as you can.</div>
				<div style="position: relative;">
					<button class="btn btn-primary btn-lg">
						<i class="icon-camera"></i> Attach Tree Image</button>
					<input class="form-control tree-img-input" data-name="tree_img"
						data-ok-img="icon-tree-ok" data-next="3"
						style="opacity: 0; position: absolute; top: 0; 
							z-index: 1; cursor: pointer; height: 45px; width: 208px;"
						type="file" name="tree-photo">
					<i class="icon-ok" id="icon-tree-ok" style="display:none"></i>
				</div>
			</div>
			<!-- step 3 -->
			<div class="step-3" style="display: none;">
				<h3>3 of 5: Add Leaf Picture</h3>
				<br>
				<div class="alert alert-warning">2. Optionally, take an image of the leaf 
					on a clean background.
				</div>
				<div style="position: relative;">
					<button class="btn btn-primary btn-lg">
						<i class="icon-camera"></i> Attach Leaf Image</button>
					<input class="form-control tree-leaf-input" data-name="leaf_img"
						data-ok-img="icon-leaf-ok" data-next="4"
						style="opacity: 0; position: absolute; top: 0; 
							z-index: 1; cursor: pointer; height: 45px; width: 208px;"
						type="file" name="leaf-photo">
					
					<i class="icon-ok" id="icon-leaf-ok" style="display:none"></i>
				</div>
				<br><br>
				<button class="btn btn-default pull-right
					btn-step-2" data-next="4">Skip This Step</button>
			</div>
			<!-- step 4 -->
			<div class="step-4" style="display: none;">
				<h3>4 of 5. Capture Location</h3>
				<br>
				<div class="alert alert-warning">Stand As Close to the tree as possible 
					and click on the button below. Make sure your GPS is activated.</div>
				<br>
				<div class="text-center">
					<button class="btn btn-danger btn-lg btn-location"><i class="icon-map-marker"></i> Capture Location Now</button>
					<i class="icon-ok" id="icon-location-ok" style="display:none"></i>
				</div>
				<br>
			</div>
			<!-- step 5 -->
			<div class="step-5" style="display: none;">
				<h3>5 of 5. Additional Details</h3>
				<br>
				<div class="alert alert-warning">Add as many details as you can.</div>
				<br>
				<div class="row">
					<div class="col-xs-12">
						<textarea class="form-control details" rows=5 placeholder="Additional Info"></textarea>
					</div>
				</div>
				<br>
				<br>
				<div class="row">
					<div class="col-xs-12">
						<button class="btn btn-success btn-lg pull-right
							btn-save"><i class="icon-save"></i> Save</button>
					</div>
				</div>
			</div>
			<div class="step-6" style="display: none;">
				<div class="alert alert-success">Congrats! Your tree was successfully added.
					<a href="javascript:location.reload()">Refresh to add another tree!</a>
				</div>
			</div>
		</div>
	</div>
	<div class="container">
	<hr class="row">
	<p class="text-muted">License MIT | 
		<a href="https://github.com/webnotes/erpnext">View on GitHub</a></p>
</div>
	<script src="js/jquery.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/nprogress.js"></script>
	<script src="js/treemapper.js"></script>
	<script src="https://login.persona.org/include.js"></script>
	<script>
		tree_info = {}
		treemapper.current_step = "1";
		$(".btn[data-next]").on("click", function() {
			treemapper.show_step($(this).attr("data-next"));
		});
	
		// step-1
		$(".tree-type-select").on("change", function() {
			var val = $(this).val();
			if(val==="select") {
				$(".type-not-selected").toggle(true);
				$(".tree-details").toggle(false);
				$(".btn-step-1").attr("disabled", "disabled");
			} else {
				$(".type-not-selected").toggle(false);
				$(".btn-step-1").attr("disabled", false);
				$(".tree-details").toggle(true).find("a")
					.attr("href", val.replace(/ /g, "_").toLowerCase() + ".html");
			}
		})
				
		// step-2
		$(".tree-img-input, .tree-leaf-input").change(function() {
			if (this.type === 'file' && this.files && this.files.length > 0) {
				var me = this;
				$.each(this.files, function (idx, fileobj) {
					if (/^image\//.test(fileobj.type)) {
						var freader = new FileReader();
						freader.onload = function() {
							// show ok sign
							$("#" + $(me).attr("data-ok-img")).toggle(true);
							
							// save file data in tree_info
							tree_info[$(me).attr("data-name")] = freader.result.split(",")[1];
							
							// go-next
							treemapper.show_step($(me).attr("data-next"))
						};
						freader.readAsDataURL(fileobj);
					}
				});
			}
		});
				
		// step-4
		$(".btn-location").on("click", function() {
			NProgress.start();
			try {
				treemapper.show_message("Getting Location...", "icon-map-marker");
				navigator.geolocation.getCurrentPosition(function(pos) {
					if(pos) {
						tree_info.latitude = pos.coords.latitude;
						tree_info.longitude = pos.coords.longitude;
						$("#icon-location-ok").toggle(true);
						treemapper.show_step("5");
					} else {
						alert("Please activate GPS in your device to capture location.")
					}
					NProgress.done();
					treemapper.hide_message();
				})
			} catch(e) {
				NProgress.done();
				treemapper.hide_message();
				alert("Please activate GPS in your device and allow the browser to use your location.")
			}
		});
				
		$(".btn-save").on("click", function() { 
			treemapper.show_message("Saving your tree...")
			$(this).attr("disabled", "disabled");
			tree_info.local_name = $(".tree-type-select").val();
			tree_info.details = $(".details").val();
			treemapper.call("save", tree_info, function(r) {
				if(r.status==="okay") {
					treemapper.hide_message();
					treemapper.show_step("6");
				} else {
					treemapper.show_message("There were errors!", "icon-error");
				}
				$(".btn").attr("disabled", false);
			})
		});
	</script>
</body>
</html>